<!DOCTYPE html>
<html>
<head>
    <title>Skill Matching with Levels and Gap Analysis</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://kit.fontawesome.com/a076d05399.js"></script> 
</head>
<body>
    <div class="container d-flex flex-column justify-content-center align-items-center vh-100">
        <div class="card p-4 rounded shadow-lg" style="width: 30rem;">
            <div id="output"></div>
        </div>
    </div>

    <script>
     //sample data 
        const staffSkills = [
            { skill: 'JavaScript', level: 'Expert' },
            { skill: 'HTML', level: 'Intermediate' },
            { skill: 'CSS', level: 'Intermediate' }
        ];

        const jobSkills = [
            { skill: 'JavaScript', level: 'Intermediate' },
            { skill: 'HTML', level: 'Intermediate' },
            { skill: 'Python', level: 'Beginner' }
        ];

        function matchSkills(staffSkills, jobSkills) {
            let output = '<h1 class="text-center mb-5">Skill Matching</h1>';
            let matchedSkills = 0;
            let improvementList = [];

            output += '<h3>Match Analysis</h3>';

            output += '<div class="mb-4">';
            jobSkills.forEach(jobSkillObj => {
                const match = staffSkills.find(staffSkillObj => staffSkillObj.skill === jobSkillObj.skill && staffSkillObj.level === jobSkillObj.level);
                if (match) {
                    matchedSkills++;
                    output += `<div class="alert alert-success"><i class="fas fa-check-circle"></i> Perfect Match: ${jobSkillObj.skill} - ${jobSkillObj.level}</div>`;
                } else {
                    const partialMatch = staffSkills.find(staffSkillObj => staffSkillObj.skill === jobSkillObj.skill);
                    if (partialMatch) {
                        output += `<div class="alert alert-warning"><i class="fas fa-exclamation-circle"></i> Partial Match: ${jobSkillObj.skill} (Expected: ${jobSkillObj.level}, Yours: ${partialMatch.level})</div>`;
                        improvementList.push({ skill: jobSkillObj.skill, level: jobSkillObj.level });
                    } else {
                        output += `<div class="alert alert-danger"><i class="fas fa-times-circle"></i> Not Matched: ${jobSkillObj.skill} - ${jobSkillObj.level}</div>`;
                        improvementList.push({ skill: jobSkillObj.skill, level: jobSkillObj.level });
                    }
                }
            });
            output += '</div>';

            const percentageMatch = ((matchedSkills / jobSkills.length) * 100).toFixed(2);
            output += `<h4>Skill Match Percentage: ${percentageMatch}%</h4>`;
            output += `<div class="progress mb-3">
                          <div class="progress-bar" role="progressbar" style="width: ${percentageMatch}%" aria-valuenow="${percentageMatch}" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>`;

            if (improvementList.length > 0) {
                output += '<h4>Improve These Skills:</h4>';
                improvementList.forEach(skill => {
                    output += `<li>${skill.skill} - ${skill.level} (Find tutorials <a href="https://www.google.com/search?q=${skill.skill}+${skill.level}+tutorial">here</a>)</li>`;
                });
            }

            return output;
        }

        document.getElementById('output').innerHTML = matchSkills(staffSkills, jobSkills);
    </script>
</body>
</html>
